{
  "id": "BULGE_PINCH",
  "label": "Bulge/Pinch",
  "category": "Filter",
  "locales": {
    "zh": {
      "Bulge/Pinch": "膨胀/收缩",
      "Distorts the texture with a bulge or pinch effect": "使纹理产生膨胀或收缩变形效果",
      "inColor": "输入纹理",
      "center": "中心",
      "radius": "半径",
      "strength": "强度",
      "outColor": "输出",
      "result": "输出UV"
    }
  },
  "data": {
    "glsl": "void run(vec2 uv, sampler2D inColor, vec2 center, float radius, float strength, out vec4 outColor) {\n    vec2 coord = uv;\n    vec2 d = uv - center;\n    float dist = length(d);\n    if (dist < radius && dist > 0.0001) {\n        float percent = dist / radius;\n        float exponent = 1.0 - strength;\n        float distortion = pow(percent, exponent);\n        coord = center + (d / dist) * distortion * radius;\n    }\n    outColor = texture(inColor, coord);\n}\nvoid run(vec2 uv, vec2 center, float radius, float strength, out vec2 result) {\n    vec2 d = uv - center;\n    float dist = length(d);\n    result = uv;\n    if (dist < radius && dist > 0.0001) {\n        float percent = dist / radius;\n        float exponent = 1.0 - strength;\n        float distortion = pow(percent, exponent);\n        result = center + (d / dist) * distortion * radius;\n    }\n}",
    "inputs": [
      {
        "id": "center",
        "name": "center",
        "type": "vec2"
      },
      {
        "id": "radius",
        "name": "radius",
        "type": "float"
      },
      {
        "id": "strength",
        "name": "strength",
        "type": "float"
      }
    ],
    "outputs": [
      {
        "id": "result",
        "name": "result",
        "type": "vec2"
      }
    ],
    "uniforms": {
      "center": {
        "type": "vec2",
        "value": [
          0.5,
          0.5
        ],
        "widget": "pad",
        "widgetConfig": {}
      },
      "radius": {
        "type": "float",
        "value": 1,
        "widget": "slider",
        "widgetConfig": {
          "min": 0,
          "max": 2,
          "step": 0.01
        }
      },
      "strength": {
        "type": "float",
        "value": 0,
        "widget": "slider",
        "widgetConfig": {
          "min": -2,
          "max": 1,
          "step": 0.01
        }
      }
    },
    "outputType": "vec2"
  }
}